{"version":3,"sources":["Components/Menu.js","Components/Editor.js","Components/Preview.js","Components/Status.js","Marked.js","index.js"],"names":["Menu","props","state","name","changeHandler","bind","e","this","setState","target","value","fileNameHandler","className","type","onChange","onClick","saveHandler","displayHandler","closeHandler","prevState","Component","Editor","input","inputHandler","handler","spellCheck","text","ReactMarkdown","require","gfm","Preview","markdown","plugins","source","Status","wc","displaymode","theme","Marked","filename","view","viewClass","raw","rawInputHandler","saveToStore","closeFileHandler","titleUpdate","saveShortcutHandler","wordCount","ls","get","document","title","stateData","set","displays","property","key","ctrlKey","preventDefault","console","log","md","split","filter","join","out","forEach","push","length","onKeyDown","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.79aa4cc2.chunk.js","sourcesContent":["import { Component } from \"react\";\r\n\r\nclass Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: props.name\r\n    }\r\n    this.changeHandler = this.changeHandler.bind(this)\r\n  }\r\n  static getDerivedStateFromProps(props, prevState) {\r\n    return {\r\n      name: props.name\r\n    }\r\n  }\r\n\r\n  changeHandler(e) {\r\n    this.setState({name: e.target.value});\r\n    this.props.fileNameHandler(e.target.value);\r\n  }\r\n\r\n  render() { \r\n    return (\r\n      <div className=\"header\">\r\n        <h1 className=\"branding\">Marked</h1>\r\n        <input type=\"text\" className=\"setName\" value={this.state.name} onChange={this.changeHandler} />\r\n        <div className=\"actions\">\r\n          {/*<div className=\"action\" ><i className=\"far fa-folder\"></i></div>*/}\r\n          <div className=\"action\" onClick={this.props.saveHandler}><i className=\"far fa-save\"></i></div>\r\n          {/*<div className=\"action\"><i className=\"far fa-arrow-alt-circle-down\"></i></div>\r\n          <div className=\"action\"><i className=\"fas fa-adjust\"></i></div>*/}\r\n          <div className=\"action\" onClick={this.props.displayHandler}><i className=\"far fa-eye\"></i></div>\r\n          <div className=\"action\" onClick={this.props.closeHandler}><i className=\"far fa-times-circle\"></i></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Menu;","import { Component } from \"react\";\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      input: ''\r\n    }\r\n    this.inputHandler = this.inputHandler.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, prevState) {\r\n    return {\r\n      input: props.text\r\n    }\r\n  }\r\n\r\n  inputHandler(e) {\r\n    this.setState({input: e.target.value});\r\n    this.props.handler(e.target.value);\r\n  }\r\n\r\n  render() {  \r\n    return (\r\n      <textarea className=\"editor\" onChange={this.inputHandler}  value={this.state.input} spellCheck=\"false\"></textarea>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Editor;","import { Component } from 'react';\r\nconst ReactMarkdown = require('react-markdown')\r\nconst gfm = require('remark-gfm')\r\n\r\n\r\nclass Preview extends Component {\r\n  render() { \r\n    const { text : markdown } = this.props;\r\n    return (\r\n        <ReactMarkdown plugins={[gfm]} source={markdown} className=\"preview\" />\r\n    );\r\n  }\r\n}\r\n \r\nexport default Preview;","import { Component } from 'react';\r\n\r\nclass Status extends Component {\r\n  // props: wc, displaymode, theme\r\n  render() {\r\n    var {wc, displaymode, theme} = this.props\r\n    return (\r\n      <div className=\"footer\">\r\n        <div><span>{wc} words</span> | <span>View: {displaymode} </span> | <span>Theme: {theme}</span></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n \r\nexport default Status;","import { Component } from 'react';\nimport Menu from './Components/Menu';\nimport Editor from './Components/Editor';\nimport Preview from './Components/Preview';\nimport ls from 'local-storage';\nimport Status from './Components/Status';\n\n/* Features\nInput\nOutput\nThemer\nClipboard Service\nImport/Export/Persist\n*/\n\n/**\n * State\n * themestate\n * filename .md\n * input\n * viewstate\n */\n\n /**\n  * Handlers\n  * Theme\n  * TextChange -> Render\n  * Load from store > didmount\n  * Save to store > with updateState\n  * Export\n  * Close(reset) Handler\n  * Filename Change Handler\n  */\n\nclass Marked extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filename: 'untitled',\n      theme: \"DARK\",\n      view: \"DUAL\",\n      viewClass: \"\",\n      raw: \"\",\n      wc: \"\"\n    }\n    this.rawInputHandler = this.rawInputHandler.bind(this)\n    this.saveToStore = this.saveToStore.bind(this)\n    this.fileNameHandler = this.fileNameHandler.bind(this)\n    this.saveToStore = this.saveToStore.bind(this)\n    this.closeFileHandler = this.closeFileHandler.bind(this)\n    this.titleUpdate = this.titleUpdate.bind(this)\n    this.saveShortcutHandler = this.saveShortcutHandler.bind(this)\n    this.displayHandler = this.displayHandler.bind(this)\n    this.wordCount = this.wordCount.bind(this)\n  }\n\n  componentDidMount() {\n    var {filename, raw} = ls.get('marked-data') || { filename: \"untitled\", raw: \"\"}\n    this.setState({\n      filename: filename,\n      raw: raw\n    }, () => {\n      this.titleUpdate()\n      this.wordCount()\n    })\n  }\n\n  titleUpdate() {\n    document.title = \"Marked - \" + this.state.filename\n  }\n\n  rawInputHandler(input) {\n    this.setState({raw: input}, this.wordCount)\n  }\n\n  fileNameHandler(name) {\n    this.setState({filename: name}, this.titleUpdate)\n  }\n\n  saveToStore() {\n    var stateData = {\n      filename: this.state.filename,\n      raw: this.state.raw\n    }\n    ls.set('marked-data', stateData)\n  }\n\n  closeFileHandler() {\n    this.setState({\n      filename: 'untitled',\n      raw: \"\"\n    }, this.saveToStore)\n  }\n\n\n  displayHandler() {\n    var displays = {\n      'DUAL': '',\n      'EDITOR': 'editoronly',\n      'PREVIEW': 'previewonly'\n    }\n    if (this.state.view==='DUAL')\n      this.setState({view: 'EDITOR', viewClass: displays.EDITOR})\n    else if (this.state.view==='EDITOR')\n      this.setState({view: 'PREVIEW', viewClass: displays.PREVIEW})\n    else\n      this.setState({view: 'DUAL', viewClass: displays.DUAL})\n  }\n\n  setProperty(property, value) {\n    switch (property) {\n      case 'theme':\n        this.setState({theme: value})\n        break\n      case 'view':\n        this.setState({view: value})\n        break\n      case 'viewClass':\n        this.setState({viewClass: value})\n        break\n      default:\n        break\n    }\n  }\n\n  saveShortcutHandler(e) {\n    if (!(e.key === 's' && e.ctrlKey) && !(e.key === 'DC3')) return true;\n    e.preventDefault()\n    console.log(\"Intercepted\")\n    this.saveToStore()\n    //send toast\n  }\n\n  wordCount() {\n    var md = this.state.raw;\n    md = md.split('');\n    md = md.filter(e => e!=='#'&&e!=='*'&&e!=='-'&&e!=='_'&&e!=='|').join('')\n    md = md.split('\\n');\n    var out = [];\n    md.forEach(e => {\n      e.split(\" \").filter(e => e !== '').forEach(e => \n        out.push(e))\n    })\n    \n    this.setState({wc: out.length});\n  }\n\n  render() {  \n    return (\n      <div className=\"marked\" onKeyDown={this.saveShortcutHandler}>\n        <Menu className=\"header\" name={this.state.filename} fileNameHandler={this.fileNameHandler} saveHandler={this.saveToStore} closeHandler={this.closeFileHandler} displayHandler={this.displayHandler} />\n        <div className={`display ${this.state.viewClass}`}>\n          <Editor text={this.state.raw} handler={this.rawInputHandler} />\n          <Preview text={this.state.raw} />\n        </div>\n        <Status wc={this.state.wc} displaymode={this.state.view} theme={this.state.theme} className=\"footer\" />\n      </div>\n    );\n  }\n}\n \nexport default Marked;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Marked from './Marked';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Marked />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}